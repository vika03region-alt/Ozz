
# üõ°Ô∏è META-GUARDIAN: –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ –°–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## üéØ –ß—Ç–æ —ç—Ç–æ?

META-GUARDIAN ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–∞–º–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è GuideFarm Bot. –û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ 24/7 –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç** —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. **–û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç** –ø—Ä–æ–±–ª–µ–º—ã –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ –ø–æ–≤–ª–∏—è—é—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç** –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫
4. **–¢–µ—Å—Ç–∏—Ä—É–µ—Ç** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
5. **–õ–æ–≥–∏—Ä—É–µ—Ç** –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

META-GUARDIAN –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –±–æ—Ç–æ–º:

```python
# –í main.py
from src.core.meta_guardian import start_guardian
guardian = start_guardian(check_interval=60)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
```

### –ß—Ç–æ –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—Å—è?

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ü—Ä–æ–≤–µ—Ä–∫–∞ | –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |
|-----------|----------|-----------------|
| **Telegram Bot** | –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç–∞–µ—Ç | ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ |
| **AI Providers** | –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –¥–æ—Å—Ç—É–ø–µ–Ω | ‚ö†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |
| **Database** | JSON –≤–∞–ª–∏–¥–µ–Ω | ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞ |
| **File Structure** | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞–ø–∫–∏ | ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫ |
| **Secrets** | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ | ‚ö†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ |

### –¶–∏–∫–ª —Ä–∞–±–æ—Ç—ã

```
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   ‚Üì
2. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞?
   ‚Üì –î–∞
3. –ü–æ–ø—ã—Ç–∫–∞ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   ‚Üì
4. Smoke test
   ‚Üì
5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   ‚Üì
6. –û–∂–∏–¥–∞–Ω–∏–µ (60 —Å–µ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
   ‚Üì
7. –ü–æ–≤—Ç–æ—Ä —Ü–∏–∫–ª–∞
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Telegram

### –ö–æ–º–∞–Ω–¥–∞ /guardian

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å META-GUARDIAN –ø—Ä—è–º–æ –∏–∑ Telegram:

```
/guardian
```

**–û—Ç–≤–µ—Ç:**
```
üõ°Ô∏è META-GUARDIAN Status Report

Running: ‚úÖ Yes
Auto-fix: ‚úÖ Enabled
Check interval: 60s

üìä Recent Events:
‚úÖ [SUCCESS] database auto-fixed successfully
üìù [HEALTHY] Health check: {...}
‚úÖ [SUCCESS] file_structure auto-fixed successfully
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥. –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```python
# –í main.py
guardian = start_guardian(check_interval=30)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```python
guardian.auto_fix_enabled = False  # –¢–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –±–µ–∑ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

### –ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 3 –ø–æ–ø—ã—Ç–∫–∏ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```python
guardian.max_fix_attempts = 5  # –£–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫
```

## üìù –õ–æ–≥–∏

### Health Reports

–°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `logs/health_reports/`:

```json
{
  "timestamp": "2025-11-01T21:30:00",
  "components": {
    "telegram_bot": true,
    "ai_providers": true,
    "database": true,
    "file_structure": true,
    "secrets": true
  },
  "overall_status": "HEALTHY"
}
```

### Critical Events

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ `logs/critical_events.json`:

```json
[
  {
    "timestamp": "2025-11-01T21:35:00",
    "level": "ERROR",
    "message": "database check failed: invalid JSON",
    "auto_fixed": false
  },
  {
    "timestamp": "2025-11-01T21:36:00",
    "level": "SUCCESS",
    "message": "database auto-fixed successfully",
    "auto_fixed": true
  }
]
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–π —Ç–µ—Å—Ç

```bash
make guardian-test
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç Guardian –Ω–∞ 30 —Å–µ–∫—É–Ω–¥ –∏ –ø–æ–∫–∞–∂–µ—Ç –æ—Ç—á–µ—Ç.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É `data/`)
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 60 —Å–µ–∫—É–Ω–¥ (–∏–ª–∏ –≤–∞—à –∏–Ω—Ç–µ—Ä–≤–∞–ª)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Guardian –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–ª –ø–∞–ø–∫—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/critical_events.json`

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤

Guardian –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –ø–æ–ø—ã—Ç–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

- **–ú–∞–∫—Å–∏–º—É–º 3 –ø–æ–ø—ã—Ç–∫–∏** –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- –ü–æ—Å–ª–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ ‚Äî —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°—á–µ—Ç—á–∏–∫ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Graceful degradation

–ï—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- Guardian –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –õ–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É
- –í—ã–≤–æ–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å
- –ù–µ –ø–∞–¥–∞–µ—Ç –∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞

```
[META-GUARDIAN] ‚ùå [ERROR] database check failed: invalid JSON
[META-GUARDIAN] üîß Auto-fixing database (attempt 1/3)...
[META-GUARDIAN] üîÑ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞: backups/products_20251101.json
[META-GUARDIAN] ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–∑ –±—ç–∫–∞–ø–∞
[META-GUARDIAN] üß™ Running smoke test for database...
[META-GUARDIAN] ‚úÖ Smoke test passed for database
[META-GUARDIAN] ‚úÖ [SUCCESS] database auto-fixed successfully
```

### –ü—Ä–∏–º–µ—Ä 2: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–∞–ø–∫–∏

```
[META-GUARDIAN] ‚ùå [WARNING] file_structure unhealthy
[META-GUARDIAN] üîß Auto-fixing file_structure (attempt 1/3)...
[META-GUARDIAN] üìÅ –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: data
[META-GUARDIAN] üìÅ –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: logs
[META-GUARDIAN] üìÅ –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: output
[META-GUARDIAN] ‚úÖ [SUCCESS] file_structure auto-fixed successfully
```

### –ü—Ä–∏–º–µ—Ä 3: AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

```
[META-GUARDIAN] ‚ùå [WARNING] ai_providers unhealthy
[META-GUARDIAN] üîß Auto-fixing ai_providers (attempt 1/3)...
[META-GUARDIAN] ‚ö†Ô∏è AI providers missing!
–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω AI API –∫–ª—é—á –≤ Replit Secrets:
  - OPENAI_API_KEY
  - GEMINI_API_KEY
  - XAI_API_KEY
[META-GUARDIAN] ‚ö†Ô∏è [WARNING] ai_providers auto-fix failed
```

## üéØ Best Practices

1. **–û—Å—Ç–∞–≤—å—Ç–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª 60 —Å–µ–∫—É–Ω–¥** ‚Äî —ç—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –±—ã—Å—Ç—Ä–æ—Ç–æ–π –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏ –Ω–∞–≥—Ä—É–∑–∫–æ–π
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/guardian` –≤ Telegram
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±—ç–∫–∞–ø—ã** ‚Äî Guardian –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ë–î —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –±—ç–∫–∞–ø
4. **–ù–µ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –≤ production ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º—ã

## üìà –ú–µ—Ç—Ä–∏–∫–∏

Guardian –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:

- **Uptime** –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ß–∞—Å—Ç–æ—Ç–∞ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**
- **–í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å smoke tests**

–í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –ª–æ–≥–∏ –∏ –∫–æ–º–∞–Ω–¥—É `/guardian`.

---

**–í–µ—Ä—Å–∏—è:** 1.0  
**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-01  
**–°—Ç–∞—Ç—É—Å:** Production Ready ‚úÖ
