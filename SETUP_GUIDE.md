# GuideFarm Bot - Руководство по запуску

Простая инструкция для человека без опыта в программировании.

---

## 1. Что нужно для запуска

### Обязательно:
1. **Telegram Bot Token** - получить у @BotFather в Telegram
2. **Минимум один AI ключ** (рекомендую Gemini - он бесплатный)

### Опционально:
- Ключи Ozon API (для публикации гайдов)
- Admin ID (ваш Telegram ID для админ-команд)

---

## 2. Как получить токен бота

1. Откройте Telegram
2. Найдите бота **@BotFather**
3. Отправьте команду `/newbot`
4. Следуйте инструкциям:
   - Придумайте имя бота (например: "My Guide Bot")
   - Придумайте username бота (должен заканчиваться на "bot", например: "my_guide_bot")
5. BotFather пришлет вам токен - скопируйте его

Токен выглядит так: `1234567890:ABCdefGHIjklMNOpqrsTUVwxyz`

---

## 3. Как получить AI ключ (Gemini - БЕСПЛАТНО)

1. Откройте https://ai.google.dev
2. Нажмите "Get API Key"
3. Войдите с Google аккаунтом
4. Создайте API ключ
5. Скопируйте его

Ключ выглядит так: `AIzaSyDxxxxxxxxxxxxxxxxxxxxx`

---

## 4. Настройка в bolt.new

### Шаг 1: Скопируйте .env.example в .env

```bash
cp .env.example .env
```

### Шаг 2: Откройте файл .env и вставьте ваши ключи

Найдите строки и замените значения:

```bash
# Вставьте токен бота
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Вставьте хотя бы один AI ключ (рекомендую Gemini)
GEMINI_API_KEY=your_gemini_key_here
```

### Шаг 3: Сохраните файл

---

## 5. Запуск бота

### В bolt.new:

Откройте терминал и запустите:

```bash
python main.py
```

Вы должны увидеть:

```
CONFIGURATION STATUS
==================================================
Telegram Bot Token: OK
AI Providers:
  Gemini: OK
==================================================

Starting bot with polling
DOBRO. Telegram-бот успешно запущен в среде bolt.new
```

---

## 6. Проверка бота

1. Откройте Telegram
2. Найдите вашего бота (по username, который вы создали)
3. Отправьте команду `/start`
4. Бот должен ответить приветственным сообщением

---

## 7. Открытие мини-приложения

В боте отправьте команду:

```
/panel
```

Бот покажет кнопку "Открыть панель управления" - нажмите на нее.

**ВАЖНО**: Мини-приложение будет работать полностью только после деплоя на Railway/Render (см. следующий раздел).

---

## 8. Деплой на Railway/Render

### Зачем нужен деплой?

Чтобы бот работал 24/7 и мини-приложение было доступно по реальному URL.

### Railway (рекомендуется):

1. Зарегистрируйтесь на https://railway.app
2. Создайте новый проект
3. Подключите GitHub репозиторий или загрузите код
4. Добавьте переменные окружения (все из .env)
5. Railway автоматически запустит бота

**Важно**: После деплоя скопируйте URL вашего приложения (например: `https://your-app.up.railway.app`) и обновите переменную `WEBAPP_URL` в настройках:

```
WEBAPP_URL=https://your-app.up.railway.app/webapp
```

### Render:

1. Зарегистрируйтесь на https://render.com
2. Создайте Web Service
3. Выберите репозиторий или загрузите код
4. Укажите команду запуска: `python main.py`
5. Добавьте переменные окружения
6. Deploy

---

## 9. Основные команды бота

После запуска бота доступны команды:

- `/start` - Начать работу
- `/help` - Показать справку
- `/panel` - Открыть панель управления
- `/status` - Проверить статус систем

---

## 10. Решение проблем

### Бот не запускается

**Ошибка: TELEGRAM_BOT_TOKEN not found**
- Проверьте, что вы создали файл .env (скопировали из .env.example)
- Проверьте, что вставили токен в .env
- Токен не должен быть в кавычках

**Ошибка: At least one AI provider key is required**
- Добавьте хотя бы один ключ: OPENAI_API_KEY, GEMINI_API_KEY или XAI_API_KEY

### Бот не отвечает

- Проверьте, что бот запущен (не закрыли терминал)
- Проверьте, что токен правильный
- Попробуйте перезапустить: Ctrl+C, затем снова `python main.py`

### Мини-приложение не открывается

- Это нормально в локальной версии
- Нужно сделать деплой на Railway/Render
- После деплоя обновите WEBAPP_URL

---

## 11. Структура проекта

```
project/
  main.py              # Точка входа (запускайте этот файл)
  .env                 # Ваши секретные ключи (НЕ коммитьте!)
  .env.example         # Шаблон для .env

  src/                 # Исходный код бота
    bot/
      handlers.py      # Обработчики команд бота
    core/
      config.py        # Настройки и проверка ключей

  webapp/              # Мини-приложение
    index.html         # Web интерфейс
    server.py          # Web сервер для приложения

  requirements.txt     # Python зависимости
```

---

## 12. Что дальше?

После успешного запуска вы можете:

1. Настроить создание гайдов через бота
2. Добавить интеграцию с Ozon
3. Настроить автоматическую генерацию
4. Расширить функционал мини-приложения

---

**DOBRO. Precision. Reliability. Excellence.**

Если что-то непонятно - просто следуйте инструкциям шаг за шагом.
